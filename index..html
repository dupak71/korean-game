<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì„œìš¸ëŒ€ í•œêµ­ì–´ 4A 3ê³¼ ë‹¨ì–´ê²Œì„</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: 'Malgun Gothic', sans-serif; background: #eff6ff; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0; overflow: hidden; }
    .game-container { background:#fff; padding:20px; border-radius:20px; box-shadow:0 10px 40px rgba(0,0,0,0.15); max-width:650px; width:95%; position: relative; z-index: 10; border: 2px solid #3b82f6; }
    h1 { font-size:1.3rem; margin:0 0 10px 0; text-align:center; color: #1e3a8a; }
    .status-bar { display:flex; justify-content:space-between; margin-bottom:15px; background: #eff6ff; padding: 10px 15px; border-radius: 12px; font-weight: 800; font-size: 1rem; }
    #timer-display { color: #dc2626; border: 2px solid #fecaca; padding: 2px 10px; border-radius: 20px; background: #fff; min-width: 80px; text-align: center; }
    
    .card { background:#f8fafc; padding:25px 15px; border-radius:15px; margin-bottom:10px; border: 1px solid #e2e8f0; text-align: center; }
    .q-text { font-weight:800; color:#1e293b; min-height: 5em; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .lang-vn { font-size: 1.6rem; color: #444; margin-bottom: 8px; line-height: 1.2; }
    .lang-uz { font-size: 1.9rem; color: #111; line-height: 1.2; font-weight: 900; }

    .hint-area { text-align: center; margin-bottom: 15px; }
    #hint-btn { background: #f8fafc; border: 1px dashed #3b82f6; color: #1e40af; padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: 700; transition: 0.2s; }
    #hint-text { display: none; background: #ebf5ff; color: #1e40af; padding: 12px; border-radius: 10px; margin-top: 8px; font-size: 0.95rem; font-weight: 600; border-left: 5px solid #3b82f6; animation: fadeIn 0.3s; }

    #options { display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom: 10px; }
    .option-btn { padding:14px 15px; border-radius:12px; border:2px solid #e2e8f0; background:#fff; cursor:pointer; font-weight: 700; font-size: 1.1rem; transition: 0.2s; color: #334155; display: flex; align-items: center; text-align: left; }
    .opt-num { display: inline-block; background: #3b82f6; color: white; width: 28px; height: 28px; line-height: 28px; text-align: center; border-radius: 50%; margin-right: 12px; font-size: 1rem; font-weight: 900; flex-shrink: 0; }
    .option-btn.correct { background:#dbeafe !important; border-color:#3b82f6 !important; color: #1e40af; }
    .option-btn.wrong { background:#fee2e2 !important; border-color:#ef4444 !important; color: #991b1b; }
    
    #message { min-height:35px; text-align:center; margin-top:5px; font-weight: 800; font-size: 1.3rem; }
    #controls { display:flex; gap:10px; margin-top:10px; }
    #next-btn, #shuffle-btn { flex:1; padding:12px; border-radius:12px; border:none; cursor:pointer; color:white; font-weight: 800; font-size: 1.1rem; }
    #next-btn { background:#3b82f6; box-shadow: 0 3px 0 #2563eb; }
    #next-btn:disabled { background: #cbd5e1; box-shadow: none; cursor: not-allowed; }
    #shuffle-btn { background:#64748b; }
    
    @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
    canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 999; }
    @media (max-width: 500px) { #options { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>âš½ 4A 3ê³¼ 'ìŠ¤í¬ì¸ ì˜ ì„¸ê³„' (71ê°œ ë‹¨ì–´)</h1>
    <div class="status-bar">
      <div>ë¬¸ì œ: <span id="q-num">0</span> / 71</div>
      <div id="timer-display">â± <span id="time">15</span>ì´ˆ</div>
      <div>ì ìˆ˜: <span id="score">0</span></div>
    </div>
    <div class="card">
      <div class="q-text" id="q-text">ë¡œë”© ì¤‘...</div>
    </div>

    <div class="hint-area">
      <button id="hint-btn" onclick="toggleHint()">ğŸ’¡ ì •ë‹µ íŒíŠ¸ ë³´ê¸°</button>
      <div id="hint-text"></div>
    </div>

    <div id="options"></div>
    <div id="message"></div>
    <div id="controls">
      <button id="shuffle-btn">ìƒˆ ê²Œì„ ì‹œì‘</button>
      <button id="next-btn" disabled>ë‹¤ìŒ ë¬¸ì œ â–¶</button>
    </div>
  </div>
  <canvas id="canvas"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    const WORDS = [
      {k:"ë“ì ì„ í•˜ë‹¤", v:"ghi Ä‘iá»ƒm", u:"gol urmoq / ochko olmoq", h:"ê²½ê¸°ì—ì„œ ì ìˆ˜ë¥¼ ì–»ëŠ” ê²ƒ"},
      {k:"ìŠ¹ë¶€ê°€ ë‚˜ë‹¤", v:"phÃ¢n tháº¯ng báº¡i", u:"g'olib aniqlanmoq", h:"ì´ê¸´ ì‚¬ëŒê³¼ ì§„ ì‚¬ëŒì´ ê²°ì •ë˜ëŠ” ê²ƒ"},
      {k:"ìŠ¹ë¶€ìš•ì´ ê°•í•˜ë‹¤", v:"tham vá»ng chiáº¿n tháº¯ng", u:"g'alaba ishtiyoqi kuchli", h:"ì´ê¸°ê³  ì‹¶ì–´ í•˜ëŠ” ë§ˆìŒì´ ì•„ì£¼ í° ìƒíƒœ"},
      {k:"ì—°ì¥ì „ì„ í•˜ë‹¤", v:"thi Ä‘áº¥u hiá»‡p phá»¥", u:"qo'shimcha vaqtda o'ynamoq", h:"ì •í•´ì§„ ì‹œê°„ ì•ˆì— ìŠ¹ë¶€ê°€ ë‚˜ì§€ ì•Šì•„ ì‹œê°„ì„ ë” ëŠ˜ë ¤ ê²½ê¸°í•˜ëŠ” ê²ƒ"},
      {k:"ê²°ìŠ¹ì „ì— ì§„ì¶œí•˜ë‹¤", v:"tiáº¿n vÃ o vÃ²ng chung káº¿t", u:"finalga chiqmoq", h:"ë§ˆì§€ë§‰ ìš°ìŠ¹ìë¥¼ ê°€ë¦¬ëŠ” ê²½ê¸°ì— ì˜¬ë¼ê°€ëŠ” ê²ƒ"},
      {k:"ë§‰ìƒë§‰í•˜ì´ë‹¤", v:"ngang tÃ i ngang sá»©c", u:"kuchi teng kelmoq", h:"ì‹¤ë ¥ì´ ë¹„ìŠ·í•´ì„œ ëˆ„ê°€ ì´ê¸¸ì§€ ì•Œ ìˆ˜ ì—†ëŠ” ìƒíƒœ"},
      {k:"ì •ì •ë‹¹ë‹¹í•˜ë‹¤", v:"cÃ´ng báº±ng, chÃ­nh trá»±c", u:"mardlarcha / adolatli", h:"ê·œì¹™ì„ ì§€í‚¤ë©° ë¹„ê²í•˜ì§€ ì•Šê²Œ í–‰ë™í•˜ëŠ” ê²ƒ"},
      {k:"ê·œì¹™ì„ ì§€í‚¤ë‹¤", v:"tuÃ¢n thá»§ quy táº¯c", u:"qoidalarga rioya qilmoq", h:"ì •í•´ì§„ ì•½ì†ì´ë‚˜ ë²•ì„ ë”°ë¥´ëŠ” ê²ƒ"},
      {k:"ê·œì¹™ì„ ì–´ê¸°ë‹¤", v:"vi pháº¡m quy táº¯c", u:"qoidani buzmoq", h:"ì •í•´ì§„ ì•½ì†ì´ë‚˜ ë²•ì„ ë”°ë¥´ì§€ ì•ŠëŠ” ê²ƒ"},
      {k:"ë°˜ì¹™ì„ í•˜ë‹¤", v:"pháº¡m luáº­t", u:"qoidani buzmoq (sportda)", h:"ê²½ê¸° ì¤‘ì— ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” í–‰ë™ì„ í•˜ëŠ” ê²ƒ"},
      {k:"ê²½ê³ ë¥¼ ë°›ë‹¤", v:"bá»‹ cáº£nh cÃ¡o", u:"ogohlantirish olmoq", h:"ì˜ëª»ì„ í–ˆì„ ë•Œ ì£¼ì˜ë¥¼ ë°›ëŠ” ê²ƒ"},
      {k:"í‡´ì¥ì„ ë‹¹í•˜ë‹¤", v:"bá»‹ Ä‘uá»•i khá»i sÃ¢n", u:"maydonni tark etishga majbur bo'lmoq", h:"í° ë°˜ì¹™ì„ í•˜ì—¬ ê²½ê¸°ì¥ ë°–ìœ¼ë¡œ ì«“ê²¨ë‚˜ëŠ” ê²ƒ"},
      {k:"ë¶€ìƒì„ ë‹¹í•˜ë‹¤", v:"bá»‹ thÆ°Æ¡ng", u:"jarohat olmoq", h:"ëª¸ì„ ë‹¤ì¹˜ëŠ” ê²ƒ"},
      {k:"ê¸°ê¶Œí•˜ë‹¤", v:"bá» cuá»™c / rÃºt lui", u:"ishtirok etishdan voz kechmoq", h:"ê²½ê¸°ë¥¼ ìŠ¤ìŠ¤ë¡œ í¬ê¸°í•˜ëŠ” ê²ƒ"},
      {k:"ì‘ì „", v:"chiáº¿n thuáº­t", u:"taktika", h:"ì´ê¸°ê¸° ìœ„í•´ ë¯¸ë¦¬ ì„¸ìš´ ê³„íš"},
      {k:"ì½”ì¹˜", v:"huáº¥n luyá»‡n viÃªn", u:"murabbiy", h:"ìš´ë™ ì„ ìˆ˜ë¥¼ ê°€ë¥´ì¹˜ê³  ì§€ë„í•˜ëŠ” ì‚¬ëŒ"},
      {k:"ì„ ìˆ˜", v:"váº­n Ä‘á»™ng viÃªn", u:"sportchi", h:"ê²½ê¸°ì— ë‚˜ê°€ëŠ” ì „ë¬¸ì ì¸ ìš´ë™ì¸"},
      {k:"ì‹¬íŒ", v:"trá»ng tÃ i", u:"hakam", h:"ê²½ê¸°ì˜ ê·œì¹™ì„ ì§€í‚¤ëŠ”ì§€ íŒì •í•˜ëŠ” ì‚¬ëŒ"},
      {k:"ì‘ì›í•˜ë‹¤", v:"cá»• vÅ©", u:"muxlislik qilmoq", h:"ì˜í•˜ë¼ê³  ì†Œë¦¬ì¹˜ë©° í˜ì„ ì£¼ëŠ” í–‰ìœ„"},
      {k:"ì—´ê´‘í•˜ë‹¤", v:"cuá»“ng nhiá»‡t, say mÃª", u:"hayajonga tushmoq", h:"ë„ˆë¬´ ì¢‹ì•„ì„œ ì•„ì£¼ í¬ê²Œ ê¸°ë»í•˜ê³  í¥ë¶„í•˜ëŠ” ê²ƒ"},
      {k:"ì—­ì „í•˜ë‹¤", v:"lá»™i ngÆ°á»£c dÃ²ng", u:"vaziyatni o'zgartirmoq (yutish)", h:"ì§€ê³  ìˆë‹¤ê°€ ìƒí™©ì„ ë°”ê¾¸ì–´ ì´ê¸°ê²Œ ë˜ëŠ” ê²ƒ"},
      {k:"ëŒ€ë‹¨í•˜ë‹¤", v:"tuyá»‡t vá»i, Ä‘Ã¡ng ná»ƒ", u:"ajoyib / daxshat", h:"ì‹¤ë ¥ì´ë‚˜ ì •ë„ê°€ ì•„ì£¼ ë›°ì–´ë‚˜ì„œ ë†€ë¼ìš´ ìƒíƒœ"},
      {k:"ê°•í•˜ë‹¤", v:"máº¡nh", u:"kuchli", h:"í˜ì´ ì„¸ê±°ë‚˜ ìˆ˜ì¤€ì´ ë†’ì€ ê²ƒ"},
      {k:"ì•½í•˜ë‹¤", v:"yáº¿u", u:"kuchsiz", h:"í˜ì´ ì—†ê±°ë‚˜ ìˆ˜ì¤€ì´ ë‚®ì€ ê²ƒ"},
      {k:"ìœ ëª…í•˜ë‹¤", v:"ná»•i tiáº¿ng", u:"mashhur", h:"ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ë„ë¦¬ ì•Œë ¤ì ¸ ìˆëŠ” ìƒíƒœ"},
      {k:"ìš´ì´ ì¢‹ë‹¤", v:"may máº¯n", u:"omadi kelmoq", h:"ìƒê°ì§€ ì•Šê²Œ ì¢‹ì€ ì¼ì´ ìƒê¸°ëŠ” ê²½ìš°"},
      {k:"ê²½í—˜", v:"kinh nghiá»‡m", u:"tajriba", h:"ì‹¤ì œë¡œ í•´ ë³´ê±°ë‚˜ ê²ªì–´ ë³¸ ì¼"},
      {k:"ì‹¤ë ¥", v:"thá»±c lá»±c", u:"mahorat", h:"ì–´ë–¤ ì¼ì„ í•´ë‚¼ ìˆ˜ ìˆëŠ” ì‹¤ì œì ì¸ ëŠ¥ë ¥"},
      {k:"ì¬ëŠ¥", v:"tÃ i nÄƒng", u:"iste'dod", h:"íƒ€ê³ ë‚œ ë›°ì–´ë‚œ ëŠ¥ë ¥"},
      {k:"ë…¸ë ¥", v:"ná»— lá»±c", u:"harakat", h:"ëª©í‘œë¥¼ ìœ„í•´ í˜ì„ ë‹¤í•´ ì• ì“°ëŠ” ê²ƒ"},
      {k:"ì¸ê¸°", v:"sá»± phá»• biáº¿n", u:"mashhurlik", h:"ì‚¬ëŒë“¤ì—ê²Œ ì‚¬ë‘ì„ ë§ì´ ë°›ëŠ” ì •ë„"},
      {k:"ì„¸ê³„ì ", v:"mang tÃ­nh tháº¿ giá»›i", u:"dunyo miqyosidagi", h:"ì „ ì„¸ê³„ì ìœ¼ë¡œ ìœ¼ëœ¸ê°€ëŠ” ìˆ˜ì¤€"},
      {k:"êµ­ê°€ ëŒ€í‘œ", v:"Ä‘áº¡i diá»‡n quá»‘c gia", u:"milliy terma jamoa", h:"ë‚˜ë¼ë¥¼ ëŒ€í‘œí•˜ì—¬ ê²½ê¸°ì— ë‚˜ê°€ëŠ” ì„ ìˆ˜"},
      {k:"ê²°ê³¼", v:"káº¿t quáº£", u:"natija", h:"ì¼ì´ ë‹¤ ëë‚œ í›„ì— ë‚˜íƒ€ë‚˜ëŠ” í˜„ìƒ"},
      {k:"ê³¼ì •", v:"quÃ¡ trÃ¬nh", u:"jarayon", h:"ì¼ì´ ë˜ì–´ ê°€ëŠ” ë‹¨ê³„ë‚˜ ê²½ë¡œ"},
      {k:"ì‹¤ìˆ˜í•˜ë‹¤", v:"máº¯c lá»—i", u:"xato qilmoq", h:"ì¡°ì‹¬í•˜ì§€ ì•Šì•„ì„œ ì˜ëª»ì„ ì €ì§€ë¥´ëŠ” ê²ƒ"},
      {k:"ë°˜ë³µí•˜ë‹¤", v:"láº·p láº¡i", u:"takrorlamoq", h:"ê°™ì€ ì¼ì„ ì—¬ëŸ¬ ë²ˆ ë˜í’€ì´í•˜ëŠ” ê²ƒ"},
      {k:"ì¢…ëª©", v:"mÃ´n (thá»ƒ thao)", u:"tur (sport turi)", h:"ìš´ë™ ê²½ê¸°ì˜ ê°ˆë˜ë‚˜ ì¢…ë¥˜"},
      {k:"êµ¬ì„±", v:"cáº¥u thÃ nh", u:"tarkib", h:"ì—¬ëŸ¬ ë¶€ë¶„ì„ ëª¨ì•„ í•˜ë‚˜ë¥¼ ë§Œë“œëŠ” ì²´ê³„"},
      {k:"ë‹¨ì²´", v:"Ä‘oÃ n thá»ƒ", u:"jamoa", h:"ì—¬ëŸ¬ ì‚¬ëŒì´ ëª¨ì—¬ ì´ë£¨ì–´ì§„ ëª¨ì„"},
      {k:"ê°œì¸", v:"cÃ¡ nhÃ¢n", u:"shaxsiy / yakka", h:"ë‹¨ì²´ê°€ ì•„ë‹Œ í•œ ì‚¬ëŒ"},
      {k:"ë…¸ë ¥í•˜ë‹¤", v:"ná»— lá»±c", u:"harakat qilmoq", h:"ì• ì“°ê³  í˜ì“°ëŠ” ë™ì‘"},
      {k:"ìµœì„ ì„ ë‹¤í•˜ë‹¤", v:"cá»‘ gáº¯ng háº¿t sá»©c", u:"bor kuchini ishga solmoq", h:"ìì‹ ì´ í•  ìˆ˜ ìˆëŠ” ëª¨ë“  í˜ì„ ìŸëŠ” ê²ƒ"},
      {k:"í¬ê¸°í•˜ë‹¤", v:"tá»« bá»", u:"voz kechmoq", h:"í•˜ë˜ ì¼ì„ ì¤‘ê°„ì— ê·¸ë§Œë‘ëŠ” ê²ƒ"},
      {k:"ìì‹ ê°", v:"sá»± tá»± tin", u:"o'ziga bo'lgan ì´í˜¼ì¹˜", h:"ìŠ¤ìŠ¤ë¡œë¥¼ ë¯¿ëŠ” ë§ˆìŒ"},
      {k:"ê¸´ì¥ë˜ë‹¤", v:"bá»‹ cÄƒng tháº³ng", u:"hayajonlanmoq", h:"ë§ˆìŒì´ ì¡°ë§ˆì¡°ë§ˆí•˜ê³  í¸í•˜ì§€ ì•Šì€ ìƒíƒœ"},
      {k:"ë–¨ë¦¬ë‹¤", v:"run", u:"titramoq", h:"ëª¸ì´ë‚˜ ëª©ì†Œë¦¬ê°€ ê°€ëŠ˜ê²Œ í”ë“¤ë¦¬ëŠ” ê²ƒ"},
      {k:"ë¬´ìŠ¹ë¶€", v:"hÃ²a", u:"durang", h:"ì„œë¡œ ì´ê¸°ê³  ì§€ëŠ” ê²ƒ ì—†ì´ ë¹„ê¸°ëŠ” ê²ƒ"},
      {k:"ì§„í–‰í•˜ë‹¤", v:"tiáº¿n hÃ nh", u:"olib bormoq", h:"ì¼ì´ë‚˜ ê³¼ì •ì„ ê³„ì†í•´ì„œ ë‚˜ì•„ê°€ê²Œ í•˜ëŠ” ê²ƒ"},
      {k:"ê¹”ë¦¬ë‹¤", v:"Ä‘Æ°á»£c tráº£i ra", u:"to'shalmoq", h:"ë°”ë‹¥ ë“±ì— í´ì§€ê±°ë‚˜ ë†“ì—¬ ìˆëŠ” ìƒíƒœ"},
      {k:"ë„˜ê²¨ì£¼ë‹¤", v:"giao cho", u:"topshirmoq", h:"ìê¸° ëª«ì„ ë‚¨ì—ê²Œ ì „í•˜ëŠ” ê²ƒ"},
      {k:"ê°ê°", v:"má»—i, tá»«ng", u:"har biri", h:"í•˜ë‚˜í•˜ë‚˜ ë”°ë¡œë”°ë¡œ"},
      {k:"ê³µê²©", v:"táº¥n cÃ´ng", u:"hujum", h:"ìƒëŒ€ë¥¼ ì´ê¸°ê¸° ìœ„í•´ ë¨¼ì € ì¹˜ê±°ë‚˜ ë‚˜ì•„ê°€ëŠ” ê²ƒ"},
      {k:"ìˆ˜ë¹„", v:"phÃ²ng thá»§", u:"himoya", h:"ìƒëŒ€ì˜ ê³µê²©ì„ ë§‰ì•„ ë‚´ëŠ” ê²ƒ"},
      {k:"ìƒëŒ€ë°©", v:"Ä‘á»‘i phÆ°Æ¡ng", u:"raqib", h:"ë‚˜ì™€ ë§ì„œê³  ìˆëŠ” ë‹¤ë¥¸ ìª½ ì‚¬ëŒ"},
      {k:"ì“°ëŸ¬ì§€ë‹¤", v:"ngÃ£, gá»¥c", u:"yiqilmoq", h:"ì„œ ìˆë˜ ê²ƒì´ ë°”ë‹¥ì— ëˆ•ê²Œ ë˜ëŠ” ê²ƒ"},
      {k:"ë¬´ë¦", v:"Ä‘áº§u gá»‘i", u:"tizza", h:"ë‹¤ë¦¬ê°€ ì ‘íˆëŠ” ì¤‘ê°„ ë¶€ë¶„"},
      {k:"ë‹¿ë‹¤", v:"cháº¡m, tiáº¿p xÃºc", u:"tegmoq", h:"ì–´ë–¤ ë¬¼ê±´ì— ëª¸ì˜ ì¼ë¶€ê°€ ë¶™ëŠ” ê²ƒ"},
      {k:"ëª¨ì–‘", v:"hÃ¬nh dáº¡ng", u:"shakl", h:"ê²‰ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ìƒê¹€ìƒˆ"},
      {k:"ìƒ…ë°”", v:"Ä‘ai tháº¯t lÆ°ng", u:"satba (kurashda)", h:"ì”¨ë¦„ ì„ ìˆ˜ë“¤ì´ í—ˆë¦¬ì™€ í—ˆë²…ì§€ì— ë‘ë¥´ëŠ” ëˆ"},
      {k:"í—ˆë²…ì§€", v:"Ä‘Ã¹i", u:"son", h:"ë‹¤ë¦¬ì˜ ë¬´ë¦ ìœ„ìª½ ë¶€ë¶„"},
      {k:"ì–´ê¹¨", v:"vai", u:"yelka", h:"íŒ”ê³¼ ëª¸í†µì´ ì—°ê²°ëœ ìœ—ë¶€ë¶„"},
      {k:"ë°€ë‹¤", v:"Ä‘áº©y", u:"itkarmoq", h:"ì•ìœ¼ë¡œ í˜ì„ ì£¼ì–´ ë‚´ë³´ë‚´ëŠ” ë™ì‘"},
      {k:"ë‹¹ê¸°ë‹¤", v:"kÃ©o", u:"tortmoq", h:"ìê¸° ìª½ìœ¼ë¡œ ëŒì–´ì˜¤ëŠ” ë™ì‘"},
      {k:"ê¸°ìˆ ", v:"ká»¹ thuáº­t", u:"usul / mahorat", h:"ì¼ì„ ì˜í•˜ê¸° ìœ„í•œ íŠ¹ë³„í•œ ë°©ë²•ì´ë‚˜ ì†œì”¨"},
      {k:"ì‚¬ìš©í•˜ë‹¤", v:"sá»­ dá»¥ng", u:"foydalanmoq", h:"í•„ìš”í•œ ê³³ì— ì“°ëŠ” ê²ƒ"},
      {k:"ëª¨ë˜", v:"cÃ¡t", u:"qum", h:"ì‘ì€ ëŒ ì•Œê°±ì´ë“¤"},
      {k:"ë§¤íŠ¸", v:"tháº£m, ná»‡m", u:"mat / gilam", h:"ë°”ë‹¥ì— ê¹”ëŠ” í‘¹ì‹ í•œ ë¬¼ê±´"},
      {k:"ì „í†µ", v:"truyá»n thá»‘ng", u:"an'ana", h:"ì˜¤ë˜ì „ë¶€í„° ì „í•´ ë‚´ë ¤ì˜¤ëŠ” ê³ ìœ ì˜ ë°©ì‹"},
      {k:"ë¯¼ì†", v:"dÃ¢n gian", u:"folkor", h:"ë¯¼ê°„ì— ì „í•´ ë‚´ë ¤ì˜¤ëŠ” í’ìŠµ"},
      {k:"ìš°ìŠ¹í•˜ë‹¤", v:"vÃ´ Ä‘á»‹ch", u:"g'olib bo'lmoq", h:"ê²½ê¸°ì—ì„œ 1ë“±ì„ ì°¨ì§€í•˜ëŠ” ê²ƒ"}
    ];

    let current = 0, score = 0, timer, timeLeft = 15, shuffledList = [];
    
    // ì˜¤ë””ì˜¤ íŒŒì¼ ì„¤ì •
    const sndFanfare = new Audio('https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3'); 
    const sndFirework = new Audio('https://assets.mixkit.co/active_storage/sfx/2020/2020-preview.mp3'); 
    const sndWrong = new Audio('https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3'); 

    function shuffle(arr) { 
      let array = [...arr];
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }
    
    function toggleHint() {
      const hText = document.getElementById('hint-text');
      hText.style.display = (hText.style.display === 'block') ? 'none' : 'block';
    }

    async function playAudio(audio) {
      try { 
        audio.currentTime = 0; 
        await audio.play(); 
      } catch(e) { console.log("Sound play error (interaction required)"); }
    }

    // ì¶•í•˜ ì´ë²¤íŠ¸ í•¨ìˆ˜ (ìš”ì²­í•˜ì‹  ëŒ€ë¡œ 15, 30, 71ì ì—ì„œë§Œ ë°œë™)
    function celebrate(type) {
      if (type === '15score') {
        playAudio(sndFanfare);
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
      } 
      else if (type === '30score') {
        playAudio(sndFanfare);
        let count = 0;
        const intr = setInterval(() => {
          confetti({ 
            particleCount: 150, 
            spread: 80, 
            origin: { y: 0.6 }, 
            colors: ['#3b82f6', '#fbbf24', '#ef4444'] 
          });
          count++;
          if (count >= 2) clearInterval(intr);
        }, 1000);
      } 
      else if (type === 'perfect') {
        playAudio(sndFirework);
        let count = 0;
        const intr = setInterval(() => {
          const end = Date.now() + 2000;
          (function frame() {
            confetti({ 
              particleCount: 100, 
              startVelocity: 30, 
              spread: 360, 
              colors: ['#ff0000', '#ffd700', '#00ff00', '#00bfff', '#ff00ff', '#ffffff'],
              origin: { x: Math.random(), y: Math.random() - 0.2 } 
            });
            if (Date.now() < end) requestAnimationFrame(frame);
          }());
          count++;
          if (count >= 2) clearInterval(intr);
        }, 2500);
      }
    }

    function startTimer() {
      clearInterval(timer); 
      timeLeft = 15; 
      document.getElementById('time').textContent = timeLeft;
      timer = setInterval(() => {
        timeLeft--; 
        document.getElementById('time').textContent = timeLeft;
        if (timeLeft <= 0) { 
          clearInterval(timer); 
          checkAnswer(null, shuffledList[current].k); 
        }
      }, 1000);
    }

    function loadQuestion() {
      if (current >= shuffledList.length) { 
        document.getElementById('q-text').innerHTML = "ğŸ† ëª¨ë“  ë¬¸ì œë¥¼ ë‹¤ í’€ì—ˆìŠµë‹ˆë‹¤!"; 
        document.getElementById('options').innerHTML = ""; 
        document.querySelector('.hint-area').style.display = 'none';
        return; 
      }
      document.getElementById('hint-text').style.display = 'none';
      document.getElementById('next-btn').disabled = true; 
      document.getElementById('message').textContent = ""; 
      document.getElementById('q-num').textContent = current + 1;
      
      const word = shuffledList[current];
      document.getElementById('q-text').innerHTML = `
        <div class="lang-vn">${word.v}</div>
        <div class="lang-uz">${word.u}</div>
      `;
      document.getElementById('hint-text').textContent = "ğŸ’¡ íŒíŠ¸: " + word.h;

      // ì˜¤ë‹µ ë³´ê¸° ìƒì„± (ì¤‘ë³µ ë°©ì§€)
      const wrongs = shuffle(WORDS.filter(w => w.k !== word.k)).slice(0, 3).map(w => w.k);
      const choices = shuffle([word.k, ...wrongs]);
      
      const optDiv = document.getElementById('options'); 
      optDiv.innerHTML = "";
      choices.forEach((c, i) => { 
        const btn = document.createElement('button'); 
        btn.className = "option-btn"; 
        btn.innerHTML = `<span class="opt-num">${i + 1}</span> ${c}`; 
        btn.onclick = () => checkAnswer(c, word.k, btn); 
        optDiv.appendChild(btn); 
      });
      startTimer();
    }

    function checkAnswer(selected, correct, btn) {
      clearInterval(timer); 
      document.querySelectorAll('.option-btn').forEach(b => b.disabled = true); 
      document.getElementById('next-btn').disabled = false;
      
      if (selected === correct) {
        if(btn) btn.classList.add('correct'); 
        document.getElementById('message').textContent = "ì •ë‹µì…ë‹ˆë‹¤! ğŸ˜Š"; 
        score++; 
        document.getElementById('score').textContent = score;

        // íŠ¹ì • ëª©í‘œ ì ìˆ˜ì—ì„œë§Œ ì‹œê°/ìŒí–¥ íš¨ê³¼ ë°œë™
        if (score === 15) celebrate('15score');
        else if (score === 30) celebrate('30score');
        else if (score === 71) celebrate('perfect');
      } else {
        if(btn) btn.classList.add('wrong'); 
        document.getElementById('message').textContent = "ì •ë‹µ: " + correct; 
        playAudio(sndWrong);
        document.querySelectorAll('.option-btn').forEach(b => { 
          if(b.textContent.includes(correct)) b.classList.add('correct'); 
        });
      }
    }

    document.getElementById('next-btn').onclick = () => { 
      current++; 
      loadQuestion(); 
    };

    document.getElementById('shuffle-btn').onclick = () => { 
      if(confirm("ê²Œì„ì„ ìƒˆë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ë‹¨ì–´ë“¤ì´ ë‹¤ì‹œ ì„ì…ë‹ˆë‹¤.")) { 
        current = 0; 
        score = 0; 
        document.getElementById('score').textContent = score; 
        shuffledList = shuffle([...WORDS]); 
        loadQuestion(); 
      } 
    };

    // ì´ˆê¸° ì‹¤í–‰
    shuffledList = shuffle([...WORDS]); 
    loadQuestion();
  </script>
</body>
</html>